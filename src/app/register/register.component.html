<div class="w-75 mx-auto my-5">
  <h2 class="my-3">Register Now</h2>

  <form
    class="my-4"
    [formGroup]="registerForm"
    (ngSubmit)="submitRegisterForm(registerForm)"
  >
    <div>
      <label for="name"> <i class="fa-solid fa-user"></i> Name :</label>
      <input
        type="text"
        id="name"
        class="form-control my-2"
        formControlName="name"
      />

      <div
        *ngIf="
          registerForm.get('name')?.errors && registerForm.get('name')?.touched
        "
        class="alert alert-danger text-danger my-1"
      >
        <p *ngIf="registerForm.get('name')?.errors?.['required']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Name is Required
          Field
        </p>
        <p *ngIf="registerForm.get('name')?.errors?.['minlength']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Minimum Length of
          Name Should be 3 Characters
        </p>
        <p *ngIf="registerForm.get('name')?.errors?.['maxlength']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Maximum Length of
          Name Should be 20 Characters
        </p>
      </div>
    </div>

    <div class="py-2">
      <label for="email"> <i class="fa-solid fa-envelope"></i> Email :</label>
      <input
        type="email"
        id="email"
        class="form-control my-2"
        formControlName="email"
      />

      <div
        *ngIf="
          registerForm.get('email')?.errors &&
          registerForm.get('email')?.touched
        "
        class="alert alert-danger text-danger my-1"
      >
        <p *ngIf="registerForm.get('email')?.errors?.['required']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Email is Required
          Field
        </p>
        <p *ngIf="registerForm.get('email')?.errors?.['email']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Please Enter Valid
          Email
        </p>
      </div>
    </div>

    <div class="py-2">
      <label for="pass"> <i class="fa-solid fa-key"></i> Password :</label>
      <input
        type="password"
        id="pass"
        class="form-control my-2"
        formControlName="password"
      />
      <div
        *ngIf="
          registerForm.get('password')?.errors &&
          registerForm.get('password')?.touched
        "
        class="alert alert-danger text-danger my-1"
      >
        <p *ngIf="registerForm.get('password')?.errors?.['required']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Password is
          Required Field
        </p>
        <p *ngIf="registerForm.get('password')?.errors?.['pattern']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Your Password
          Should be Minimum eight and maximum 16 characters, at least one
          uppercase letter, one lowercase letter, one number and one special
          character
        </p>
      </div>
    </div>

    <div class="py-2">
      <label for="repass"
        ><i class="fa-solid fa-lock"></i> Repeat Password :</label
      >
      <input
        type="password"
        id="repass"
        class="form-control my-2"
        formControlName="rePassword"
      />

      <div
        *ngIf="
          (registerForm.get('rePassword')?.touched &&
          registerForm.get('rePassword')?.errors) || 
          (registerForm.get('rePassword')?.touched && registerForm.errors?.['mismatch'])
        "
        class="alert alert-danger text-danger my-1"
      >
        <p *ngIf="registerForm.get('rePassword')?.errors?.['required']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Repeat Password is
          Required Field
        </p>
        <p *ngIf="registerForm.errors?.['mismatch']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Password Dosen't
          Match
        </p>
      </div>
    </div>

    <div class="py-2">
      <label for="phone"> <i class="fa-solid fa-phone"></i> Phone :</label>
      <input
        type="tel"
        id="phone"
        class="form-control my-2"
        formControlName="phone"
      />

      <div
        *ngIf="
          registerForm.get('phone')?.errors &&
          registerForm.get('phone')?.touched
        "
        class="alert alert-danger text-danger my-1"
      >
        <p *ngIf="registerForm.get('phone')?.errors?.['required']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Phone is Required
          Field
        </p>
        <p *ngIf="registerForm.get('phone')?.errors?.['pattern']">
          <i class="fa-solid fa-circle-exclamation pe-1"></i> Please Enter Valid
          Phone Number
        </p>
      </div>
    </div>
    <div class="d-flex justify-content-center align-items-center">
      <div class="alreadyHaveAccount">
        <a class="nav-link justify-content-start d-flex align-items-center">
          <span>Already have an account?</span>
          <button routerLink="/login" class="btn text-main ps-1 font-sm">
            Login
          </button>
        </a>
      </div>
      <div [class.notAllowed]="registerForm.invalid" id="buttonContainer">
        <button
          *ngIf="!isLoading"
          [disabled]="registerForm.invalid"
          type="submit"
          class="btn bg-main text-white d-block ms-auto my-3 font-sm"
        >
          Register <i class="fa-solid fa-user-plus"></i>
        </button>

        <button
          *ngIf="isLoading"
          class="btn bg-main text-white d-block ms-auto my-3"
        >
          <i class="fa-solid fa-spinner fa-spin"></i>
        </button>
      </div>
    </div>
  </form>
</div>
